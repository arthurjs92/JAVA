package avaInter2_ArthurJosedosSantos;

import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;

import javax.swing.JOptionPane;

public class AppAvaInter2 {

	@SuppressWarnings("unused")
	public static void main(String[] args) {
		
		int cont=0, quantidade=0, i=0, op=0, duracao;
		String nome, laboratorio, unidade, nomeAnimal, observacoes, queixa, historico, resposta;
		double dose;
		
		HashMap<String, String> unidadesdemedidas = new HashMap<>();
		unidadesdemedidas.put("ml","mililitro");
		unidadesdemedidas.put("cp","comprimido");
		unidadesdemedidas.put("gr","grama");
		unidadesdemedidas.put("un","unidade");
		
			quantidade = Integer.parseInt(JOptionPane.showInputDialog("Quantos serao inseridos remedios?"));
			
			ArrayList<Remedio> listadeRemedios = new ArrayList<>();
			
			do {
				 nome = JOptionPane.showInputDialog("Digite o nome do remedio: ");
				 laboratorio = JOptionPane.showInputDialog("Digite o nome do laboratorio: ");
				 unidade = JOptionPane.showInputDialog("Digite a unidade: ");
				if(unidade.length()>2) {
					while(unidade.length()>2) {
						unidade = JOptionPane.showInputDialog("Digite o nome do remedio: ");
					}
				}
				listadeRemedios.add(new Remedio(nome, laboratorio, unidade));
				cont+=1;
			}while(quantidade != cont);
			
			nomeAnimal = JOptionPane.showInputDialog("Nome do animal: ");		
			observacoes = JOptionPane.showInputDialog("Observacoes: ");
			queixa = JOptionPane.showInputDialog("Qual a queixa: ");
			historico = JOptionPane.showInputDialog("Historico: ");
			
			Consulta c = new Consulta(nomeAnimal,observacoes,queixa,historico);
			
//			for(i=0;i<listadeRemedios.size();i++) {
//				Remedio remedio = listadeRemedios.get(i);
//				JOptionPane.showMessageDialog(null, "("+(i+1)+")" + " : "+remedio.getNome()+" - " + remedio.getLaboratorio());
//			}
			
			for(Remedio remedio : listadeRemedios) {
				JOptionPane.showMessageDialog(null, "("+(i+1)+")" + " : "+remedio.getNome()+" - " + remedio.getLaboratorio());
				i++;
			}
			
			do {
				resposta = JOptionPane.showInputDialog("Deseja adicionar um remedio a consulta? (s/n))");
//				if(resposta == "s") {
//					
//				}
					op = Integer.parseInt(JOptionPane.showInputDialog("Digite a opcao do remedio desejado: "));
				Remedio remedioEscolhido = listadeRemedios.get(op-1);
				
				dose = Double.parseDouble(JOptionPane.showInputDialog("Qual a dose recomendada: "));
				
				duracao = Integer.parseInt(JOptionPane.showInputDialog("Qual a duracao: "));
				
//				3.2.5 O programa deverá criar um objeto da classe ItemReceita(dose,
//						duracao, remedio). O atributo remedio contido nesta classe irá referenciar o
//						objeto remedio que foi selecionado pelo usuário no main( ), conforme
//						mostrado no item 3.2.3.
				ItemReceita ir = new ItemReceita(dose, duracao, remedioEscolhido);
				
				ArrayList<ItemReceita> itens = new ArrayList<>();
		        itens.add(ir);
		        c.setItens(itens);
			
			}while(resposta!="n");
        
//			3.3 - O programa deverá listar os remédios inseridos na Consulta. Para cada
//			remédio inserido, apresentar os seguintes dados: nome do remédio, laboratório do
//			remédio, dose + (unidade de medida - descrição), duração (dias).

//			obs.: A descrição da unidade de medida será obtida através da coleção (Mapa)
//			criada na ETAPA 1
			
				JOptionPane.showMessageDialog(null, c.getItens().get(i).getRemedio().getNome() 
						+ " - " 
						+ c.getItens().get(i).getRemedio().getLaboratorio() 
						+ " - " 
						+ c.getItens().get(i).getDose() 
						+ " " + unidadesdemedidas.get(c.getItens().get(i).getRemedio().getUnidade()) 
						+" - " 
						+ c.getItens().get(i).getDuracao() + " dias ");

	}

}
